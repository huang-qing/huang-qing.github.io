---
layout:     post
title:      PWA
subtitle:   
date:       2020-08-31
author:     huangqing
header-img: img/post-bg-html.jpg
catalog: true
categories: [HTML]
tags:
    - HTML
---

## 什么是PWA
PWA是Progressive Web App的英文缩写， 翻译过来就是渐进式增强WEB应用， 是Google 在2016年提出的概念，2017年落地的web技术。目的就是在移动端利用提供的标准化框架，在网页应用中实现和原生应用相近的用户体验的渐进式网页应用。

1. 可靠——即时加载，即使在不确定的网络条件下也不会受到影响。 当用户从主屏幕启动时，`service work`可以立即加载渐进式Web应用程序，完全不受网络环境的影响。`service work`就像一个客户端代理，它控制缓存以及如何响应资源请求逻辑，通过预缓存关键资源，可以消除对网络的依赖，确保为用户提供即时可靠的体验。
2. 快速 据统计，如果站点加载时间超过 3s，53% 的用户会放弃等待。页面展现之后，用户期望有平滑的体验，过渡动画和快速响应
3. 沉浸式体验—— 感觉就像设备上的原生应用程序，具有沉浸式的用户体验。 渐进式Web应用程序可以安装并在用户的主屏幕上，无需从应用程序商店下载安装。他们提供了一个沉浸式的全屏幕体验，甚至可以重新与用户接触的Web推送通知。

Web应用程序中，可以通过`manifest.json`控制应用程序的显示方式和启动方式，指定主屏幕图标、启动应用程序时要加载的页面、屏幕方向，甚至可以指定是否显示浏览器Chrome。

## 核心功能

PWA并不是单指某一项技术，你更可以把它理解成是一种思想和概念，目的就是对标原生app，将Web网站通过一系列的Web技术去优化它，提升其安全性，性能，流畅性，用户体验等各方面指标，最后达到用户就像在用app一样的感觉。

PWA中包含的核心功能及特性如下：

+ Web App Manifest
+ Service Worker
+ Cache API 缓存
+ Push&Notification 推送与通知
+ Background Sync 后台同步
+ 响应式设计

## PWA如何弥补和原生App的差距


性能:PWA使用app Shell架构模型

1. 快速加载
2. 尽可能使用较少的数据
3. 使用本机缓存中的静态资产
4. 将内容与导航分离开来
5. 检索和显示特定页面的内容（HTML、JSON 等）
6. 缓存动态内容 App Shell 可保证 UI 的本地化以及从 API 动态加载内容，但同时不影响网络的可链接性和可检测性。 用户下次访问您的应用时，应用会自动显示最新版本。无需在使用前下载新版本。为了保证首屏的加载，在内容请求完成之前，可以优先保证 App Shell 的渲染，做到和 Native App 一样的体验，App Shell 是 PWA 界面展现所需的最小资源。
   
离线使用: 

`Service Worker` + `HTTPS` +`Cache Api` + `indexedDB` 等一系列web技术实现离线加载和缓存

数据更新:

`Background Sync` 后台同步技术

实现推送:

`Push`&`Notification` 实现推送与通知

添加到桌面:

通过`manifest.json`文件配置，使得可以直接添加到手机的桌面上。

 